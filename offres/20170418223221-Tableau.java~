import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.lang.String;

public class Tableau{
	public static String[] inserer(String x, String tableau[]){
		String tab[] = new String[tableau.length + 1];
		for(int i = 0; i<tableau.length; i++)
			tab[i] = tableau[i];
		tab[tableau.length] = x;
		return tab;
	}
	public static boolean rechercher(String x, String tableau[]){
		for(int i = 0; i < tableau.length; i++){
			if(x.equals(tableau[i])) return true;
		}
		return false;
	}
	public static boolean tempsRechercher(String mot, String tableau[]){
	    long start = System.nanoTime();	
	    boolean reslt = rechercher(mot,tableau);
	    long duree = System.nanoTime() - start;;
	    System.out.println("             Recherche du mot '"+mot+"' en "+ duree/1000000000.0 +" secondes (taille du mot = "+mot.length()+") : "+reslt);
	    return reslt;
	}
	public static String[] tempsInserer(String mot,String tableau[] ){
	    long start = System.nanoTime();	
	    String a[] = inserer(mot,tableau);
	    long duree = System.nanoTime() - start;;
	    System.out.println("             Inserction du mot '"+mot+"' en "+ duree/1000000000.0 +" secondes (taille du mot = "+mot.length()+")");
	    return a;
	}
	public static String[] TableauConstruit(String nomFic){
	    long start = System.nanoTime();
	    int n = 0;
	    String tableau[] = new String[0];
	    try{		
		BufferedReader entree = new BufferedReader(new FileReader(new File(nomFic)));
    		while (true) {
      			String ligne = null;
      			try {
        			ligne = entree.readLine();
      			} catch (IOException e) {
        			System.err.println("# Erreur pendant la lecture de \""+ nomFic +"\".");
        			System.exit(1);
      			}
      			if (ligne == null) {
        			break;
      			}
			n++;
      			tableau = inserer(ligne,tableau);
    		} 
       	    }catch (FileNotFoundException e) {
      		System.err.println("# Erreur : impossible de lire \""+ nomFic +"\".");
           	System.exit(1);
    	    }
	    long duree = System.nanoTime() - start;;
	    System.out.println("tableau: "+ duree/1000000000.0 +" secondes pour n = "+n);
	    return tableau;	 

	}

	public static void main(String args[]){
		String tableau[] = TableauConstruit(args[0]);
		//arbre.toStringArbre();

		tableau = tempsInserer("zyzomys",tableau);
		tableau = tempsInserer("zyzomyszyzomys",tableau);
		tableau = tempsInserer("zyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomys",tableau);
		tableau = tempsInserer("zyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomyszyzomys",tableau);
		System.out.println(tempsRechercher("zyzomys",tableau));
		System.out.println(tempsRechercher("zyzomyszyzomys",tableau));
		//System.out.println(rechercher("sali laa",tableau));	
	}




}
